(new class{initHeader(){this.headerTitleBtn.addEventListener("click",(()=>{this.toggleHeaderTitle()})),this.headerTitleBackdrop.addEventListener("click",(()=>{this.toggleHeaderTitle()})),this.headerNavBackdrop.addEventListener("click",(()=>{this.toggleNav()})),this.navBtn.addEventListener("click",(()=>{this.toggleNav()})),this.navItems.forEach((t=>t.addEventListener("click",(()=>this.toggleNav()))))}toggleHeaderTitle(){this.headerSocial.classList.toggle("active"),this.headerSocial.classList.contains("active")?this.headerSocial.classList.remove("iddle"):this.headerSocial.classList.add("iddle"),this.headerTitleBtn.classList.toggle("active"),this.headerTitleBackdrop.classList.toggle("active")}toggleNav(){this.navBtn.classList.toggle("open"),this.navList.classList.toggle("active"),this.headerNavBackdrop.classList.contains("active")?this.headerNavBackdrop.classList.remove("active"):this.headerNavBackdrop.classList.add("active"),this.headerTitleBtn.classList.remove("active"),this.headerTitleBackdrop.classList.remove("active"),this.headerSocial.classList.remove("active")}constructor(){this.headerTitleBtn=document.getElementById("header-title"),this.headerTitleArrow=document.getElementsByClassName("header__title__arrow")[0],this.headerSocial=document.getElementById("header-social"),this.headerTitleBackdrop=document.getElementById("header-title-backdrop"),this.headerNavBackdrop=document.getElementById("header-nav-backdrop"),this.navBtn=document.getElementById("nav-btn"),this.navList=document.getElementById("nav-list"),this.navItems=this.navList.querySelectorAll(".main-navigation__item"),this.URL="http://localhost:9000/api/feed"}}).initHeader();(new class{initHero(){let t=0,e=this.imgsMobile;window.innerWidth>=992&&(e=this.imgsDesktop),setInterval((()=>{e.forEach((t=>t.classList.remove("active"))),t++,t>e.length-1&&(t=0),e[t].classList.add("active")}),this.imgTransition)}constructor(){this.heroSection=document.querySelector(".hero"),this.imgsMobile=document.querySelectorAll(".hero__bg-img--mobile"),this.imgsDesktop=document.querySelectorAll(".hero__bg-img--desktop"),this.imgTransition=5e3}}).initHero();(new class{toggleProjectPanels(){window.innerWidth>=992&&this.projects[0].classList.add("active"),this.projects.forEach((t=>{t.addEventListener("click",(()=>{this.projects.forEach((t=>{t.classList.remove("active")})),t.classList.add("active")}))}))}constructor(){this.projects=document.querySelectorAll(".project")}}).toggleProjectPanels();const t=new class{initAbout(){this.toggleExpandCapsules(),window.addEventListener("load",(()=>{this.animateSkills()}))}animateSkills(){const t=window.innerHeight/3*2;this.skills.forEach(((e,s)=>{const i=e.querySelector(".svg-container");let l,a,o,n;window.innerWidth<=768?(l=e.querySelector(".svg-line--mobile"),a=l.querySelector(".path"),o=e.querySelector(".capsule"),n=e.querySelector(".dot")):(l=e.querySelector(".svg-line--desktop"),a=l.querySelector(".path"),o=e.querySelector(".capsule"),n=e.querySelector(".dot"));const r=l.clientWidth,c=l.clientHeight;i.style.width=`${r}px`,i.style.height=`${c}px`;const d=n.offsetTop+n.clientHeight/2,h=n.offsetLeft+n.clientWidth/2;window.innerWidth<=768?0===s?(i.style.top=d-c+"px",i.style.left=`${h}px`,o.style.top=`-${o.clientHeight}px`,o.style.right=`-${o.clientHeight/2}px`):1===s?(i.style.top=`${d}px`,i.style.left=`${h}px`,o.style.top=`${c}px`,o.style.right=`-${o.clientWidth/2}px`):2===s?(i.style.top=d-c+"px",i.style.left=`-${r-h}px`,o.style.top=`-${o.clientHeight}px`,o.style.left=`-${o.clientWidth/2}px`):3===s&&(i.style.top=`${d}px`,i.style.left=`-${r-h}px`,o.style.bottom=`-${o.clientHeight}px`,o.style.left=`-${o.clientHeight/2}px`):0===s||1===s?(i.style.top=d-c+"px",i.style.left=h-r+"px",o.style.top=`-${o.clientHeight/2}px`,o.style.right=`${r}px`):2===s?(i.style.top=d-c+"px",i.style.left=`${h}px`,o.style.top=`-${o.clientHeight/2}px`,o.style.left=`${r}px`):3===s&&(i.style.top=`${d}px`,i.style.left=`${h}px`,o.style.bottom=`-${o.clientHeight/2}px`,o.style.left=`${r}px`),a.style.strokeDasharray=`${a.getTotalLength()}px`,window.addEventListener("scroll",(e=>{this.target.getBoundingClientRect().top<t?(o.classList.add("show"),a.classList.add("show")):(o.classList.remove("show"),a.classList.remove("show"))}))}))}toggleExpandCapsules(){this.capsules.forEach((t=>{t.querySelector(".btn-arrow").addEventListener("click",(()=>{t.classList.toggle("expand")}))}))}constructor(){this.capsules=document.querySelectorAll(".capsule"),this.target=document.getElementById("target"),this.skills=document.querySelectorAll(".skill")}};console.log("home js"),t.initAbout();(new class{initForm(){this.clearInputs(),this.animateLabel(),this.inputFields.forEach((t=>{t.addEventListener("input",this.focusOnInput.bind(this))})),this.onSubmitForm()}isFormValid(){return this.name.validity.valid&&this.mail.validity.valid&&this.subject.validity.valid&&this.message.validity.valid}clearInputs(){this.inputFields.forEach((t=>{t.value=""}))}focusOnInput(t){this.isFormValid()?this.submitContactBtn.removeAttribute("disabled"):this.submitContactBtn.setAttribute("disabled","disabled"),t&&""!==t.target.value?(t.target.classList.add("filled"),t.target.parentNode.lastElementChild.classList.add("invisible")):(t.target.classList.remove("filled"),t.target.parentNode.lastElementChild.classList.remove("invisible"))}animateLabel(){this.labels.forEach((t=>{t.innerHTML=t.innerText.split("").map(((t,e)=>`<span style="transition-delay:${50*e}ms">${t}</span>`)).join("")}))}onSubmitForm(){this.submitContactBtn.addEventListener("click",(()=>this.submitForm()))}async submitForm(){if(!this.isFormValid)return;const t={name:this.name.value.trim(),email:this.mail.value.trim(),subject:this.subject.value,message:this.message.value};this.loaderContact.classList.remove("hidden"),this.form.classList.add("loading"),this.errorMessage.classList.add("hidden");try{const e=await fetch("https://tristan-deloris-pro.herokuapp.com/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(201!==e.status)throw console.log("error:",e.status,e),this.form.classList.remove("loading"),this.loaderContact.classList.add("hidden"),this.errorMessage.classList.remove("hidden"),new Error("Something went wrong");this.loaderContact.classList.add("hidden"),this.form.classList.add("hidden"),this.successMessage.classList.remove("hidden")}catch(t){throw console.log("contact error:",t),this.form.classList.remove("loading"),this.errorMessage.classList.remove("hidden"),this.loaderContact.classList.add("hidden"),new Error("Something went wrong")}}constructor(){this.labels=document.querySelectorAll(".form-control label"),this.form=document.getElementById("contact-form"),this.inputFields=document.querySelectorAll(".control"),this.name=document.getElementById("form-name"),this.subject=document.getElementById("form-subject"),this.mail=document.getElementById("form-email"),this.message=document.getElementById("form-message"),this.submitContactBtn=document.getElementById("submit-contact-btn"),this.loaderContact=document.getElementById("loader-contact"),this.successMessage=document.getElementById("success-message"),this.errorMessage=document.getElementById("error-message")}}).initForm();