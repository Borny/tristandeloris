{"version":3,"sources":["../node_modules/idb/build/esm/wrap-idb-value.js","../node_modules/idb/build/esm/index.js","js/utility.js","js/header.js","main.js"],"names":["instanceOfAny","object","constructors","some","c","idbProxyableTypes","cursorAdvanceMethods","getIdbProxyableTypes","IDBDatabase","IDBObjectStore","IDBIndex","IDBCursor","IDBTransaction","getCursorAdvanceMethods","prototype","advance","continue","continuePrimaryKey","cursorRequestMap","WeakMap","transactionDoneMap","transactionStoreNamesMap","transformCache","reverseTransformCache","promisifyRequest","request","promise","Promise","resolve","reject","unlisten","removeEventListener","success","error","wrap","result","addEventListener","then","value","set","catch","cacheDonePromiseForTransaction","tx","has","done","complete","DOMException","idbProxyTraps","get","target","prop","receiver","objectStoreNames","undefined","objectStore","replaceTraps","callback","wrapFunction","func","transaction","storeNames","args","call","unwrap","sort","includes","apply","transformCachableValue","Proxy","IDBRequest","newValue","openDB","name","version","blocked","upgrade","blocking","terminated","indexedDB","open","openPromise","event","oldVersion","newVersion","db","deleteDB","deleteDatabase","readMethods","writeMethods","cachedMethods","Map","getMethod","targetFuncName","replace","useIndex","isWrite","method","storeName","store","index","shift","all","oldTraps","dbPromise","contains","console","log","createObjectStore","writeData","st","data","put","readAllData","getAll","setStore","key","val","getItem","getAllKeys","deleteItem","delete","clearStore","clear","urlBase64ToUint8Array","base64String","padding","repeat","length","base64","rawData","window","atob","outputArray","Uint8Array","i","charCodeAt","dataURItoBlob","dataURI","byteString","split","mimeString","ab","ArrayBuffer","ia","blob","Blob","type","Header","constructor","headerTitleBtn","document","getElementById","headerTitleArrow","getElementsByClassName","headerSocial","headerTitleBackdrop","headerNavBackdrop","navBtn","navList","navItems","querySelectorAll","URL","initHeader","toggleHeaderTitle","toggleNav","forEach","item","classList","toggle","remove","add","deferredPrompt","installBtn","askNotificationBtn","URL_SUBSCRIPTIONS","header","navigator","serviceWorker","register","preventDefault","prompt","userChoice","choiceResult","outcome","displayNotificationEnabled","options","body","icon","image","dir","lang","vibrate","badge","tag","renotify","dateOfArrival","Date","now","primaryKey","actions","action","title","ready","swreg","showNotification","configurePushSubcription","registration","pushManager","getSubscription","sub","vapidPublicKey","convertedVapidPublicKey","subscribe","userVisibleOnly","applicationServerKey","newSub","fetch","headers","JSON","stringify","response","ok","askNotificationPermission","Notification","requestPermission"],"mappings":";;AIAA;;AACA;;AAEA,IAAI2K,cAAJ;ADHO,ACIP,MDJaxB,ACIPyB,MDJC,CAAa,GCIJ,GAAGtB,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAnB;ADHEH,ACIF,EDJEA,ICIIyB,ODJO,GAAG,QCIQ,GAAGvB,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,CAA3B;AJLA,AGEI,ACIJ,MJNMvJ,AIMA8K,GDJGzB,UHFU,GAAG,CAACpJ,AGEnB,ACImB,GDJGqJ,ACIA,GJNJ,EAASpJ,GGEG,CAACqJ,QHFb,KAA0BrJ,CGEtB,CAAwB,UHFU,CAACC,GGEnC,CHFsB,AGE5C,CHF+DC,AIMnE,CJNkE,CIQlE,GJRyEH,MAAM,YAAYG,CAA3C,CAAhD;AGGI,SAAKoJ,gBAAL,GAAwBF,QAAQ,CAACG,sBAAT,CAAgC,sBAAhC,EAAwD,CAAxD,CAAxB;AACA,ACKJ,MAAMsB,GDLGrB,GCKG,GAAG,IAAIP,EDLf,GAAoBG,QAAQ,CAACC,ACKlB,EAAf,YDLwB,CAAwB,eAAxB,CAApB;AHFJ,AGGI,ACKJwB,IJRI1K,EIQE,CAAC6J,EDLEP,QCKT,IJRA,AIUA,ODPI,GAA2BL,QAAQ,CAACC,cAAT,CAAwB,uBAAxB,CAA3B;AHFJ,AGGI,IHHAjJ,KGGKsJ,eHHT,EACA,AGEI,GAAyBN,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,CAAzB,CALY,CAMZ;ACMJ,IAAI,mBAAmByB,SAAvB,EAAkC;AJRlC,AGGI,ADRJ,AEcIA,EAAAA,OJTKzK,AGGAsJ,ECMI,CAACoB,GDNV,GAAc3B,OCMd,CDNsB,ACME4B,CDND3B,EHH3B,GAAgC,EIS5B,CAAiC,MDNnB,CAAwB,SAAxB,CAAd,CAPY,CAQZ,mBCKA,EAA2ClH,IAA3C,CAAgD,MAAM;AJRtD,AISIoE,IAAAA,KJTIpG,EISG,CAACqG,GAAR,CAAY,UJTS,KACpBrG,iBAAiB,GAAG,CACjBG,KIOJ,MJRqB,EAEjBC,cAFiB,EAGjBC,QAHiB,EAIjBC,SAJiB,EAKjBC,cALiB,CADA,CAAzB;AAQH,AGJG,ADRJ,AEcK,EJDL,CIDI,MDJKkJ,OAAL,GAAeR,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAf;AACA,ADRJ,AEcC,EAED,IFhBMhD,GCQGwD,MDRM,ECQX,CDRc,ECQE,KAAKD,OAAL,CAAaE,EDRR,aAAP,CCQE,CAA8B,ADRV,CAAtB,EAAyB,qBCQvB,CAAhB;AACA,ADRArF,EAAAA,OCQKsF,ADRE,CAAC7E,ECQR,ADRO,EAAK,CCQD,gCAAX;AFZJ,ADgBA,AGHG,ADRK,QAAI,CFWHvE,AEXIuE,EAAE,CAAChC,gBAAH,CAAoBoD,GFWjC,GAAmC,EEXtB,CAA6B,OAA7B,CAAL,EAA4C;AFYhD,AEXQC,AEcZyB,MFdYzB,AEcN,CAACrE,EJHK9B,IEXO,CAACoG,GAAR,CAAY,KEcxB,CAAwB,KJHQ,KACvBpG,WIET,EAAgD2E,KAAD,EJFlB,EEZjB,AEc8C,CJF1B,CACpBtE,SAAS,CAACG,SAAV,CAAoBC,OADA,EAEpBJ,SAAS,CAACG,SAAV,CAAoBE,QAFA,EAGpBL,SAAS,CAACG,SAAV,CAAoBG,kBAHA,CADA,CAA5B;ACdJ,ADoBC,AGRCiJ,ADRU9E,AEcR,EDNF8E,IDRU9E,EAAE,CAACuB,GCQH,GAAG,WDRH,CAAqB,OAArB;ADHZ,AEYI,ADRK,AEcL1B,EAAAA,KAAK,CAACkG,CDND9B,aCML,CDNA,CAAoBjH,gBAApB,CAAqC,OAArC,EAA8C,MAAM;AFXxD,ADmBA,AGPM,ACMFuI,EAAAA,IJCEzJ,KGPKiJ,KCMO,GAAGlF,GJCC,EIDlB,CJCqB,GGPnB,CHOuB9D,OAAJ,EAAzB;AClBA,ADmBA,AGPK,ADTG,AEeJ,KDRA,CHSEC,EEhBM,CAACgE,AEeF,EFfI,CAAChC,EEeZ,UJCoB,GAAG,CEhBd,CAAoBoD,EFgBFrF,MEhBlB,CFgBc,AEhBe,EFgB1C,UEhBa,CAAL,EAAiD;ADFzD,ADmBA,AGNI,ADVQ,AEeX,CALD,GAOA,EJDME,GGNGsI,mBAAL,CAAyBvH,CHMC,GAAG,IAAIjB,OAAJ,CGN7B,CHMJ,AGN8C,OAA1C,EAAmD,MAAM;AFZ7D,ADmBA,AGNM,ADVMiE,MFgBN9D,AEhBM8D,EAAE,CAACuB,ECUJwD,SHMS,GAAG,GEhBX,CFgBehJ,AEhBM,CCU3B,MHMiB,EAAvB,GEhBY;ADFZ,ADmBA,AGNK,ADVI,AEgBTyJ,KDRI,CHQErJ,IIAI,CAACa,gBJAgB,AIA3B,CAA4B,EJAE,IAAIjB,CIAlC,EAAqC,IJAP,EAA9B,AIA2C;AHlB3C,AEcI,ADXC,AEgBDsF,EAAAA,OHnBKlC,AEcAqF,ACKE,CAAClD,GAAR,CAAY,CHnBhB,CAAgBlC,IAAhB,EAAsBC,IEclB,CAAuBrC,EFd3B,EAA+B,AGmB3B,YDLA,CAAwC,OAAxC,EAAiD,MAAM;AFd1BsC,AEe3B,EFf2BA,OAAF,EEepB0F,SAAL;AFfoCzF,ADmB1C,AGHK,ADvBsC,AE2BvC,CF3Bc,CDOwBA,ACP1C,GCqBI,CCMIgG,GHpBuB,ADmBtBnJ,WICL,EAAoB,GJDxB,CAA0BC,OAA1B,EAAmC;ACnBgBmD,ADoB/C,AGFA,ACGI+F,EHrB2C/F,EGqB3C+F,IJDEjJ,CGFDmI,CFlBsB,KDoBd,AGFb,CAAYzH,EHEI,AICE,CAACgJ,GJDCzJ,GIChB,IJDY,CAAY,CAACC,CGF7B,CAA6B,KHED,EAAUC,AGFtC,EAAsC,IHEV,EGFgB,GHEK;ACpBQgD,ADqBrD,AGFF,ADbC,AEiBC8F,EHvBqD9F,EGuBrD8F,MJFM7I,CGFHsI,IDbWxD,GFeA,AIEA,CAACyE,CDJjB,CHEmB,GEflB,CAAyBxE,EFeD,AEfxB,EAA6BC,AEiB5B,CAA0BzE,GFjB3B,CEiBC,CFjBkC,AEiBFiJ,YAAD,IAAkB;AHvB1B,ADsBnB7J,AGFP,ADbDgF,AEiBQA,EFjBRA,EDPwE,CEkBxE,CFlBJ,ADsBYhF,AIEAgF,EHxBoE,CCOrE,CAACC,GFeO,AEff,AEiBe,CJFC3E,AEfJ,AEiBI2E,GAAR,CAAY4E,QFjBpB,EAA0BxE,EEiBM,CAACyE,CFjBjC,CFeQ,CAA4B,IIE5B,KJFA,EAAuCvJ,OAAvC;ACrBR,ADsBQP,AGDR,ADdA,MFeQA,ECtBFA,CEqBDsI,ADdExD,IFeQ,CAACxE,CCtBH,EEqBb,CFrBgB+C,AEqBFuF,ADdE,CAAChI,IAAV,CAAgB+C,CCcvB,CAAsBkF,ADdA,CDPG,CAACvF,EEqBA,ADdI,EDPd,CAAeP,ADsBvB,CAA4B,AGAlC8F,GFtBc,CEsBV,CFtB+B7F,AEsB9BrC,EHAC,EAAqCH,GCtB7B,CAAhB,CDsBQ,OGAN,CAAsB,OAAtB,EAA+B,MAAM,KAAKmI,SAAL,EAArC,CADF;AFpBA,ADsBK,AGAN,ADfK,AEiBI,KJLJ,GCnBEpF,ECOItC,AEiBE4I,EFjBA,GAAGlG,EAAE,CAACzB,CDPD,GAAG,AGwBI,CAAC4H,MFjBV,CAAe1E,AEiBlB,EFjBG,EAAmB,CEiBG,QHxBZpF,ECOV,CAAX,AEiBI,EAA0C,EHxB9B,CAApB;ACQI,AEiBQgF,QAAAA,EFjBFP,KAAK,AEiBI,CAACQ,EFjBFhE,CEiBN,CFjBQ,AEiBI,CFjBHY,WAAH,CAAeuD,EAAf,CAAd,YEiBQ;AHxBZ,ADsBI,AGCNsD,ADfMjE,AEiBK,EDFXiE,EDfMjE,EDRAvB,CGuBI,EFfC,CFcC3C,AEdA+E,GDRV,ACQI,AEiBW,CFjBDD,CDRD,EDsBI,CEdb,CCeW,CHDK,EGCF,IHDQ;ACrBtBrF,ADsBIG,AGCR,ADfI,AEiBQ6E,IHzBRhF,EDsBIG,EIGI6E,CDFPiD,EFvBM,ACQAhH,CDRCN,CDsBG,AEdF,CFcGF,AEdFW,CEiBK,CAAC6D,EJHA,CAACjF,AIGT,CAAY,CDFxB,CAAkB8I,ADfd,IFcwB,CAACpI,CCtBzB,CAAyB,EEuB7B,CAA4BqI,CHDR,CAAL,CAAP,GGCR,CAAmC,KFvB/B,EAA2CvF,CEuB/C,ACEY,IHzBkC,IAAW;AACjDN,ADsBA7C,AGCR,ADfC,AEiBQ,GFtBF,CAAP,EDHQ6C,ADsBA7C,GGCH4H,IFvBU,CAAC,ADsBA,OGChB,CAAkBa,SAAlB,CAA4B/D,GFvBP/E,KEuBrB,CAAqC,CFvBT,CAACU,MAAb,AEuBhB,CFvBe,EAAuB8C,CEwBlC,IFxBuC,CAACC,AEwBnCwE,UFxBM,EAAyCzE,AEwBpD,CAAkBsF,IFxBuC,CAACpF,IEwB1D,CAA4BsF,KFxBjB,CEwBX,CFxBsE,AEwBnC,OAAnC,CADJ,GAEI,KAAKf,KFzBsEjI,OAAO,AEyBlF,CFzBmFkC,AEyBjE4G,SAAlB,CAA4BG,CFzB0C,CAA3D,CAAP,AEyBJ,CAAgC,OAAhC,CAFJ;AFtBK,ADsBA,AGGL,ADjBH,AEiBQ,KH3BD,ADqBA,AIFA,IDQCrB,cAAL,CAAoBkB,SAApB,CAA8BC,MAA9B,CAAqC,QAArC;AFxBC,AEyBD,ACCIG,IAAAA,KDDChB,SCCa,GAAG,IAAjB,GDDJ,CAAyBY,SAAzB,CAAmCC,MAAnC,CAA0C,QAA1C;AHHI,AGIL,ADnBF,AEoBI,UJLSvI,KAAK,GAAG,MAAM;ACrBxB,ADsBQJ,AIKX,CAjBD,GAmBA,EH7BQ6C,ADsBI7C,MAAM,CCtBd,ADsBeJ,ECrBXA,KDqBkB,CAACQ,CCrBZ,CAACG,GDqBE,CAAN,YCrBJ,CAAyB,SAAzB,EAAoC,MAAMsC,OAAO,EAAjD;AACJM,ADqBQlD,AGIVsI,ADnBK,EDNHpF,AEyBFoF,IHJUtI,KGID,EFzBI,CACNO,ADoBW,AGIN,CDnBQ2E,GDNlB,CACW5B,EAAD,IAAQ,CCKf,CAA2ByB,EAA3B,EAA+B;ADJ9B,ADoBC,AGIL,ADnBA,AEqBJ,KJTQ,GCjBIhC,CEwBHgF,ADnBEtD,AEqBFiF,MDFL,CAAYjB,EFxBR,ACKY,CACXlI,CDLG+C,EAAE,CAAChD,ACIJ,CACG,CCkBV,CAAsBoI,MAAtB,CAA6B,CDlBTpF,CEoBxB,CFpBc,EAAc,AEoBU,CHzB1B,AEuBR,CFvB4B,OAApB,EAA6B,MAAMP,UAAU,EAA7C;AACJ,AEuBJ,ADlBQ,AEoBR,MAAI,EHzBID,ACKIlC,CCkBPoH,CDlBS,GAAG1E,EAAE,CDLf,AEuBJ,ADlBoBzB,CCkBP4G,CFtBLnF,EAAE,CAAChD,IGwBY4I,CDFvB,CAAuBR,ADlBN,CAAe3D,EAAf,EAAmB,CCkBpC,CAA8B,ACE9B,EAAkC,CHxB1B,CAAoB,IEsB5B,ADlBiB,CAAT,UDJA,EAAqC,MAAMjC,QAAQ,EAAnD;AACP,ADiBGnD,AGKJ,ADlBQ,AEoBJ,GH9BJ,CDuBIA,CChBCe,GCGO0D,CCkBP0D,CF5BL,AG8BU6B,CHvBC,ADgBA,CAACrJ,CEbK,GAAGM,CDHH,AGuBA,CHvBG,ACGE,CDVtB,ACUuBY,CEoBH,MDFpB,CAAuBiH,CHLnB,CAAyB,CEbT,CAAe1D,EAAf,CAAZ,ECkBR,CAAiCL,CHL7B,EAAoCxE,KGKxC,CAA0C,CHLtC,OGKJ,IACI,KAAK4H,iBAAL,CAAuBW,SAAvB,CAAiCE,MAAjC,CAAwC,QAAxC,CADJ,GAEI,KAAKb,iBAAL,CAAuBW,SAAvB,CAAiCG,GAAjC,CAAqC,QAArC,CAFJ;AFpBA,ADgBIjJ,AGOL,ADpBS,AEoBAiK,IJPJjK,EIOIiK,GHvBD1G,CGuBK,CJPD,AEbIkB,CFaH9D,AIOE,IFpBM,CAAC6E,GDHrB,GCGe,EAAP,GFaJ,CAAyB,OAAzB,EAAkChF,KAAlC,0BIMgB;AHrBvB,ADgBI,AEbI,AEoBG0J,GJtBQ,AEHT,CFGP,AEHA,EEyBQA,IAAI,EAAE,oCAFM;AHpBxB,ADgBIjK,AG9CgB,ADiCnB,AEoBWkK,EJPRlK,IIOQkK,GJPD,CACFvJ,CIMQ,EAAE,CJPf,CACWC,KAAD,IAAW,kBIGD;AHnBxB,ADiBQ,AIMIuJ,MAAAA,GAAG,EAAE,KAJO;AHlBxB,ADiBQ,AEdD,AEoBKC,MAAAA,IAAI,EAAE,GFpBI5E,IEeE,IFfjB,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkClB,KAAlC,EAAyC;ADFhD,ADiBQ,AEdJO,AEoBQsF,EFpBRtF,IEoBQsF,EJNAzJ,CEdD,CAACoE,GFcK,AEdb,AEoBe,CFpBH,CEoBK,CAAC,GAAD,EAAM,EAAN,EJNQ/F,AIME,GAAV,CFpBjB,AEcoB,KJAhB,EAAgC;AChBxC,ADiBYO,AEdR,AEmBiC,MJLzBA,GEdD,CAAC,MAAMqF,MFcU,CAAChE,EEdlB,CFcC,CAAqBD,AEdJyE,GAAlB,CAAsBb,CFcrB,EAA4BzE,EEd7B,EAA6B2F,GFc5B,AEdD,EAAkCD,GAAlC,CAAP;AFeK,AEdR,AEmBW6E,KJVa,CAMjB,AIIIA,KAAK,EAAE,oCAPK;AAQZC,MAAAA,GAAG,EAAE,sBARO;AHfxB,ADmBK,AEdE,AEkBkC,GJZrC,EASKzJ,ICpBA6C,CDWL,CASW,IEfOgC,EDLtB,ADoBqB,CCpBH7C,ADoBM,CATpB,EAjB+B,CCMnC,ADqBI,AEhBG,CAAuB2C,CDLN,ECKjB,EAA4BjB,KAA5B,EAAmC;ADLhBxB,ADsBtB,AEhBA,AEkBQwH,EHxBcxH,IGwBdwH,QAAQ,EAAE,IATE;AHfA,ACOpB,AEkBQpF,IHzB0B,EAAtC,AGyBYA,EHzB8B,CCO/B,CAAC,AEkBI,EAAE,IFlBAP,SAAP,EAAkBvD,GAAlB,CAAsBkD,KAAtB,EAA6BiB,GAA7B,CAAP;ADNA,ADsBA5F,AEfH,AEkBe4K,EJHZ5K,MCtBME,AGyBM0K,OHzBC,GAAGrH,GGyBS,EJHJ,AIGMsH,CJHL7J,GCtBG,ADsBzB,AIG+B,CHzBL+C,ADsBA5D,AIGM2K,GAAL,EADb,EJFd,EAAmC5K,KCtBnB,CAAyB+C,CDsBzC,GCtBgB,CAAhB;AACA,ADsBA,AIGY8H,MHzBR5H,EGyBQ4H,CJHL5K,ICtBP,EACID,CDqBJ,EIGsB,EAAE,EHxBb,CAACW,gBAAR,CAAyB,SAAzB,EAAoC,MAAMsC,OAAO,EAAjD;AACJ,ADqBH,AEfM,AEeW,OAVM,EHXb,MCMW4C,UAAf,CAA0BpB,IDNjBzE,CCMT,EAAiC,IDN7B,EAAcY,IAAd,CAAmB,MAAMgB,SAAzB,CAAP;AACH,ACMG,AEkBQkJ,MAAAA,GFlBD,CAAC,GEkBO,EAAE,CFlBHhG,AEmBF,SFnBL,EAAkBe,UAAlB,CAA6BpB,KAA7B,CAAP;AFeJ,AEdC,AEkBiBsG,QAAAA,CJJT/J,KIIe,EAAE,SAAV,cJJhB,CAAwCC,EAAxC,EAA4C;ACnB5C,ADoBI,AIGiC+J,MHvB/BlH,EGuB+BkH,KAAK,EAAE,EHvB3B,GAAG,CAAC,AGuBL,KHvBI,EAAQ,QAAR,EAAkB,QAAlB,EAA4B,YAA5B,EAA0C,OAA1C,CAApB;AACA,ADoBI,AEdG,AEgB6Cd,MHtB9CnG,ADoBEpE,EIE4CuK,IAAI,EAAE,CFhBpCpE,GDNJ,GAAG,CAAC,EDoBI,CAAC5E,AEdpB,CAA0BuD,CDNZ,CDoBb,CCpBqB,ADoBExD,EAAvB,AEdD,CFcH,CEdoCyE,CDNnB,ADqBb,ECrB4B,ACM7B,EAAsC,MDNxB,EAAyB,OAAzB,CAArB;AACA,ADqBI,AEfAV,AEeY,EFfZA,IDNEhB,CGoBe,CJCX7C,CEfC,AEgBK,CFhBJ8D,EFeE,CEfV,CAAY,CFeC,ICrBE,ADqBE/E,GCrBC,IAAI+D,ADqBT,CAAY,CAAC9D,AEf1B,CDNkB,EAAtB,IDqB6B,EAAUC,MAAV,KAAqB;AAC1C,AEfJ,AEec2K,QAAAA,CFfP,CFeG1K,AEfF,IEeY,EFfNyE,AEeQ,EJAJ,GAAG,GIAT,CFfL,EFeoB,AEfFiB,MAAlB,CAAyBtB,KAAzB,EAAgCiB,GAAhC,CAAP;ADNJ,ADsBYzE,AEfX,AEcmC+J,MJCxB/J,EAAE,AIDsB+J,CHrB3B9G,ADsBM5D,IID0B,EAAE,GHrB3C,CAAmBkB,IGqBH,EHrBhB,EAA2BC,CDsBf,CAAuB,ECtBnC,EAAiC,MDsBrB,EAAmCL,QAAnC;ACrBR,ADsBQH,AIFyCiJ,MHpB7C,ADsBIjJ,ECtBFO,ADsBI,AIFuC0I,CJEtC5J,GIF0C,EHpBzC,AGoB2C,YHpB/BvB,EDsBhB,CAAuB,OAAvB,CCtBF,CDsBkCyB,GCrBpC,EAAEiB,ADqBE,ICrBE,IAAID,MAAV,CADE,IAEF,OAAOC,IAAP,KAAgB,QAFhB,CAAJ,EAE+B;AAC3B,ADoBIR,AEfL,AEYS,MJGJA,CILS,CJKP,CAACX,MEfO0F,UAAf,CAA0BvB,EFerB,CAAuB,EEf5B,EAAiC,GFe5B,EAAgCjE,KAAhC;ACnBP,ADoBI,AEfL,AELoB,KJgBhB,AIhBA;AFMJ,AEaI+I,IAAAA,KFbG,CAAC,GEaK,CAACC,EFbA1E,SAAP,EAAkBmB,AEarB,CAAwBgF,IFbrB,CAAwBxG,AEa3B,CACK7D,IFdF,AEaH,CFbJ,AEccsK,KAAK,IAAI;AHnBvB,ADoBI,AEdP,AEceA,EFZhB,IDRQlH,AGoBQkH,IJAF9J,CIAO,CAAC+J,MJAA,CCpBD,CAAC5J,CDoBG,ECpBjB,CAAkBE,GDoBK,CCpBvB,AGoBQ,CHpBZ,AGoBmC,EHnB/B,OAAOuC,aAAa,CAACzC,GAAd,AGmBC,CHnBiBE,CGoBbuI,GHpBL,CAAP,GGmBQ;AHlBZ,ADmBQ7J,AICC,KAJL,CJGIA,ECnBFgE,KDmBS,SCnBK,GAAG1C,IAAI,CAAC2C,OAAL,CAAa,YAAb,EAA2B,EAA3B,CAAvB;AACA,ADmBQ/D,AICP,MJDOA,ECnBFgE,MDmBU,ECnBF,GAAG5C,IAAI,KAAK0C,cAA1B;AACA,ADmBK,AEdF,AEeN,KJJO,GChBEG,CCKM4B,MDLC,GAAGnC,YAAY,ACKzB,CDL0BvB,ACKK2D,QDLlB,CAAsBhC,GCKnC,EAA6C,SDLhC,CAAhB;ACMA,MAAIiC,OAAO,GAAG,IAAIC,MAAJ,CAAW,CAAC,IAAIF,YAAY,CAACG,MAAb,GAAsB,CAA3B,IAAgC,CAA3C,CAAd;ADLA,ADmBI,AEbJ,AEeJ,MFfQC,CDLJ,EGoBK6E,CJFK5K,EEbA,GFaK,AEbF,CAAC2F,EFaI,MAAM,IEbE,GAAGC,EEejC,GAAoC,EFfnB,EACRhC,OADQ,CACA,KADA,EACO,GADP,EAERA,OAFQ,CAEA,IAFA,EAEM,GAFN,CAAb;ADJA,ADkBQhE,AEVR,AEYA,IHpBE+D,EDkBM/D,AEVJoG,AEYA,EAAE,IJFQ,CAACvF,AEVJ,EFUM,CAACT,AEVJiG,EDRE,GDkBD,CClBK,ACQA,CDRCpC,ACQAqC,EFUM,EEVb,AEYW6C,CFZChD,CFUKlF,EClBF,GAAGpC,ACQlB,CAAd,CEYI,CAAJ,EAAqC,EJFV,CClBE,ADkBe,GClBDD,SDkBhB,EAA+B,GClBtC,EAAuCK,ODkBhC,CAAb,CClBd,ADkBQ,KCjBJ,EAAEiF,OAAO,IAAIR,WAAW,CAACtB,QAAZ,CAAqB2B,cAArB,CAAb,CAHJ,EAGwD;AACpD,ADiBI9D,AEVR,AEYI2E,IAAAA,EJFI3E,AEVJsG,KEYO,CAAC1B,EJFI,CIEZ,CAAY,CFZD,GAAG,GEYd,CFZkB2B,UAAJ,CAAeJ,OAAO,CAACF,MAAvB,CAAlB;ADNC,ADiBI,AIED,KJLA;AENJ,AEYC,OFZI,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,OAAO,CAACF,MAA5B,EAAoC,EAAEO,CAAtC,EAAyC;ADPzC,ADiBI5F,AETA0F,IFSA1F,AETA0F,EFSE,CAAChG,CCjBD4D,MAAM,CCQG,CAACsC,CDRD,ACQA,CAAX,GAAiBL,EFSjB,CAAoB,IETI,CAACM,IDREtC,CDiB3B,EAAgCpD,GETf,CAAmByF,CAAnB,CDRN,ACQX,EDRsC,ADiBtC,GCjByCzE,IAA9B,EAAoC;AAC/C,ADiBAnB,AETH,AEYD,IJHIA,EAAE,AIGFoK,CJHG1K,WIGP,KJHI,CAAoB,OAApB,EAA6BH,KAA7B;AChBA,ADiBAS,AIGJsI,EAAAA,EJHItI,EAAE,CAACN,GCjBGM,CGoBD,CHpBG,AGoBFuI,GHpBK,KAAKtH,GDiBhB,CAAoB,CIGxB,CAAwB+I,KHpBT,ADiBX,AIGJ,CHpBgCzG,AGqB3B5D,CJJ4BJ,GIGjC,CACU0K,CJJN,GCjBW,CGqBA,CHrB4B5G,GGqBxB,IHrB+B,GAAG,WAAH,GAAiB,UAApD,CAAX;AACA,ADiBH,AEVD,AEcQ+G,GJrBK,CAAb,AIqBQA,CJzBgC,CAsBxC,EClBQ7J,CCODmF,KDPO,EGqBM,CHrBH1F,EAAE,AGqBIiK,CHrBHzG,ACOpB,IEcQ,CHrBJ;AACA,ACOP,AEcW,EFZZ,MDTYJ,GGqBO6G,KHrBX,AGqBgB,CAACI,CHpBb9J,MAAM,GAAGA,CGoBF,CAAkB+J,IHpBV,CAAC7G,KAAP,CAAatC,IAAI,AGoBnB,CHpBoBuC,CGoB3B,IHpBsB,EAAb,CAAT,CAL2C,CAM/C;AACA,ADeJhF,AIIK,EJJLA,CIAA,EAKKiB,IALL,CAKU4K,GAAG,IAAI,GJLC,CAAC1K,GAAnB,CAAuBG,EAAvB,EAA2BE,IAA3B;ACdI,ADeP,AIKW;AHnBJ,ACKD,AEeK,QAAIqK,CFfAzE,EEeG,KAAK,IAAZ,EFfL,AEeuB,CFfAC,OAAvB,EAAgC;ADJ/B,ADcR,AETI,AEeY,IJNZ1F,EETI2F,UAAU,CFSD,EETIP,CFSD,GETK,CAACM,OAAO,CAACE,KAAR,CAAc,GAAd,EAAmB,CAAnB,CAAD,CAArB;AFUA3F,AETA,AEeY,EJNZA,GAAG,CAACC,AETA2F,MFSD,AIMesE,EJNNhK,EETE,EFSX,CETcuF,CFSCtF,METM,AEeQ,CFfPwF,CFStB,CIMgC,CJNP,EETX,CAAc,GAAd,EAAmB,CAAnB,EAAsBA,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,EAAoCA,KAApC,CAA0C,GAA1C,EAA+C,CAA/C,CAAjB,kDEeY;AHpBR,ADeA,AETJ,AEeY,MFfRE,EFSI5F,AETF,GDNK,ACMF,CDNG,AGqBMkK,EJNJ,CETDrE,GDNKnH,OAAO,CAAC0E,ADeAzF,AETjB,CAAgB8H,EDNP,CAAY,CACtBzF,IGoBiC,EHpB3B,ACKqB,CDLpB2C,ACKqBmC,AEeQ,EJNxC,EAAsC,EETjC,CAAT,ODLc,CAAN,CAAuB,GAAGlE,IAA1B,CADsB,EAEtBkC,OAAO,GGmBmDmH,CHnB/CxK,EAAE,CAACE,IAFQ,CAAZ,CAAP,EAGH,CAHG,CAAP,AGqBwC,CAAhC,CAHc,CAKd;AHnBX,ADYO,AETR,GDlBA,GCkBImG,EAAE,GAAG,IAAIV,UAAJ,CAAeQ,EAAf,CAAT;AFUQ,AIOI,UJPA3F,GIOO4J,CJPH,KAAK,MAAb,AIOuB,CAACC,CJNpB,OAAO3L,GIMA,CAAyBgM,SAAzB,CAAmC,IJNjB,CAACpK,GAAnB,CAAuBC,MAAvB,CAAP,CAH8B,CAIlC;ACdRwC,ACGA,AEiBgB4H,EHpBhB5H,KCGK,CEiBW4H,GFjBP/E,CAAC,GDHG,ACGA,CDHC/F,ACGd,EAAgB+F,CDHhB,ACGiB,CDHCpF,ECGEwF,CEiBW,CHpB/B,CGoBiC,CHpBT1C,GGmB8B,GHnBtD,ACG8B,CAAC+B,MAA/B,EAAuCO,CAAC,EAAxC,EAA4C;ADF5C,ADcQ,AEXJS,AEiBYuE,IFjBZvE,EAAE,CAACT,CAAD,AEiBUgF,CHpBTtH,ACGH,CFWQ9C,EEXAwF,EFWI,CCdhB,IDcqB,GEXC,CAACH,KEiBa,EAAE4E,GFjB1B,CAAsB7E,CAAtB,CAAR,CFWI,EAAiC;ACb5C,ADce,AEXX,AEcqD,OAAnC,CAAP,OJHOrF,MAAM,CAACG,gBAAP,IAA2B/B,wBAAwB,CAAC2B,GAAzB,CAA6BC,MAA7B,CAAlC;AACH,AIMA,KAVD,EJHkC,CAQlC,GIKO,CACH;AHrBhB,ACGI,AEmBY,MFnBR+F,IAAI,GAAG,IAAIC,IDHL3C,ACGC,CAAS,CAACuC,EAAD,CAAT,EAAe,CDHjB,KAAe,EACxB,GAAGvC,QADqB;AAExBtD,ACC4BkG,AEoBnB,EHrBTlG,ECC4BkG,CDDzB,EAAE,CAACjG,ACC0B,EAAE2F,IDD7B,EAAS1F,IAAT,EAAeC,QA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","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst cursorRequestMap = new WeakMap();\nconst transactionDoneMap = new WeakMap();\nconst transactionStoreNamesMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    promise\n        .then((value) => {\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n        // (see wrapFunction).\n        if (value instanceof IDBCursor) {\n            cursorRequestMap.set(value, request);\n        }\n        // Catching to avoid \"Uncaught Promise exceptions\"\n    })\n        .catch(() => { });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Polyfill for objectStoreNames because of Edge.\n            if (prop === 'objectStoreNames') {\n                return target.objectStoreNames || transactionStoreNamesMap.get(target);\n            }\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n    if (func === IDBDatabase.prototype.transaction &&\n        !('objectStoreNames' in IDBTransaction.prototype)) {\n        return function (storeNames, ...args) {\n            const tx = func.call(unwrap(this), storeNames, ...args);\n            transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n            return wrap(tx);\n        };\n    }\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(cursorRequestMap.get(this));\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\nexport { reverseTransformCache as a, instanceOfAny as i, replaceTraps as r, unwrap as u, wrap as w };\n","import { w as wrap, r as replaceTraps } from './wrap-idb-value.js';\nexport { u as unwrap, w as wrap } from './wrap-idb-value.js';\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction));\n        });\n    }\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking)\n            db.addEventListener('versionchange', () => blocking());\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nexport { deleteDB, openDB };\n","import { openDB } from 'idb'\r\n\r\n// INDEXED DB\r\nconst dbPromise = openDB('posts-store', 1, {\r\n    upgrade(db) {\r\n        if (!db.objectStoreNames.contains('posts')) {\r\n            console.log('[Utility JS] : creating the database')\r\n            db.createObjectStore('posts')\r\n        }\r\n        if (!db.objectStoreNames.contains('sync-posts')) {\r\n            // console.log('[Utility JS] : creating the database')\r\n            db.createObjectStore('sync-posts')\r\n        }\r\n    },\r\n})\r\n\r\nexport async function writeData(st, data) {\r\n    console.log('write data', data)\r\n    return dbPromise.then((db) => {\r\n        const tx = db.transaction(st, 'readwrite')\r\n        const store = tx.objectStore(st)\r\n        store.put(data)\r\n        return tx.complete\r\n    })\r\n};\r\n\r\nexport async function readAllData(st) {\r\n    return dbPromise\r\n        .then(function (db) {\r\n            var tx = db.transaction(st, 'readonly')\r\n            var store = tx.objectStore(st)\r\n            return store.getAll()\r\n        })\r\n}\r\n\r\nexport async function setStore(key, val, store) {\r\n    console.log('setting store')\r\n    return (await dbPromise).put(store, val, key)\r\n}\r\n\r\nexport async function getItem(key, store) {\r\n    // console.log('getting store')\r\n    return (await dbPromise).get(store, key)\r\n}\r\n\r\nexport async function getAllKeys(store) {\r\n    return (await dbPromise).getAllKeys(store)\r\n}\r\n\r\nexport async function deleteItem(store, key) {\r\n    console.log('delete store')\r\n    return (await dbPromise).delete(store, key)\r\n}\r\n\r\nexport async function clearStore(store) {\r\n    // console.log('clearing store')\r\n    return (await dbPromise).clear(store)\r\n}\r\n\r\n// CONVERT 64 STRING TO ARRAY\r\nexport function urlBase64ToUint8Array(base64String) {\r\n    var padding = '='.repeat((4 - base64String.length % 4) % 4)\r\n    var base64 = (base64String + padding)\r\n        .replace(/\\-/g, '+')\r\n        .replace(/_/g, '/')\r\n\r\n    var rawData = window.atob(base64)\r\n    var outputArray = new Uint8Array(rawData.length)\r\n\r\n    for (var i = 0; i < rawData.length; ++i) {\r\n        outputArray[i] = rawData.charCodeAt(i)\r\n    }\r\n    return outputArray\r\n}\r\n\r\n// CONVERT BASE64 URL TO BLOB \r\nexport function dataURItoBlob(dataURI) {\r\n    var byteString = atob(dataURI.split(',')[1])\r\n    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]\r\n    var ab = new ArrayBuffer(byteString.length)\r\n    var ia = new Uint8Array(ab)\r\n    for (var i = 0; i < byteString.length; i++) {\r\n        ia[i] = byteString.charCodeAt(i)\r\n    }\r\n    var blob = new Blob([ab], { type: mimeString })\r\n    return blob\r\n}","export class Header {\n  constructor() {\n    this.headerTitleBtn = document.getElementById(\"header-title\")\n    this.headerTitleArrow = document.getElementsByClassName(\"header__title__arrow\")[0]\n    this.headerSocial = document.getElementById(\"header-social\")\n    this.headerTitleBackdrop = document.getElementById(\"header-title-backdrop\")\n    this.headerNavBackdrop = document.getElementById(\"header-nav-backdrop\")\n    // this.togglenavBtn = document.getElementById(\"toggle-nav-btn\")\n    this.navBtn = document.getElementById(\"nav-btn\")\n    // this.navBtnIcons = this.navBtn.querySelectorAll(\".icon\")\n    this.navList = document.getElementById(\"nav-list\")\n    this.navItems = this.navList.querySelectorAll('.main-navigation__item')\n    this.URL = 'http://localhost:9000/api/feed'\n  }\n\n  initHeader() {\n    this.headerTitleBtn.addEventListener(\"click\", () => {\n      this.toggleHeaderTitle()\n    })\n\n    this.headerTitleBackdrop.addEventListener(\"click\", () => {\n      this.toggleHeaderTitle()\n    })\n\n    this.headerNavBackdrop.addEventListener(\"click\", () => {\n      this.toggleNav()\n    })\n\n    this.navBtn.addEventListener(\"click\", () => {\n      this.toggleNav()\n    })\n\n    this.navItems.forEach(item =>\n      item.addEventListener('click', () => this.toggleNav()))\n  }\n\n  toggleHeaderTitle() {\n    this.headerSocial.classList.toggle(\"active\")\n    this.headerSocial.classList.contains(\"active\")\n      ? this.headerSocial.classList.remove(\"iddle\")\n      : this.headerSocial.classList.add(\"iddle\")\n    this.headerTitleBtn.classList.toggle(\"active\")\n    this.headerTitleBackdrop.classList.toggle(\"active\")\n  }\n\n  toggleNav() {\n    this.navBtn.classList.toggle('open')\n    this.navList.classList.toggle(\"active\")\n    this.headerNavBackdrop.classList.contains(\"active\")\n      ? this.headerNavBackdrop.classList.remove(\"active\")\n      : this.headerNavBackdrop.classList.add(\"active\")\n  }\n\n}\n","import { urlBase64ToUint8Array } from './js/utility'\nimport { Header } from \"./js/header\"\n\nlet deferredPrompt\nconst installBtn = document.getElementById('install-app')\nconst askNotificationBtn = document.getElementById('enable-notification')\nconst URL_SUBSCRIPTIONS = 'http://localhost:9000/api/subscription'\n\n// HEADER\nconst header = new Header()\nheader.initHeader()\n\n// SERVICE WORKER\nif ('serviceWorker' in navigator) {\n    navigator.serviceWorker.register('/sw.js').then(() => {\n        console.log('[Index JS] : Service worker registered!')\n    })\n}\n\n// DEFERRING THE INSTALLATION\nwindow.addEventListener('beforeinstallprompt', (event) => {\n    // console.log('beforeinstallprompt fired')\n    event.preventDefault()\n    deferredPrompt = event\n    return false\n})\n\n// INSTALL THE APP\ninstallBtn.addEventListener('click', () => {\n    console.log('install the app')\n    if (deferredPrompt) {\n        deferredPrompt.prompt()\n\n        deferredPrompt.userChoice.then((choiceResult) => {\n            console.log(choiceResult.outcome)\n\n            if (choiceResult.outcome === 'dismissed') {\n                console.log('User canceled installation')\n            } else {\n                console.log('User added to home screen')\n            }\n        })\n\n        deferredPrompt = null\n    }\n})\n\n// NOTIFICATIONS\nfunction displayNotificationEnabled() {\n    if ('serviceWorker' in navigator) {\n        const options = {\n            body: 'You successfully subscribed to our Notification Service',\n            icon: '/android-icon-192x192.95830eb1.png',\n            image: '/kalalau-beach.2009ff86.jpg',\n            dir: 'ltr',\n            lang: 'en-US',\n            vibrate: [100, 50, 200], // vibration / pause / vibration / pause / .....\n            badge: '/android-icon-192x192.95830eb1.png',\n            tag: 'confirm-notification', // if set will stack the notifications, they won't show\n            renotify: true,\n            data: {\n                dateOfArrival: Date.now(),\n                primaryKey: 1\n            },\n            actions: [\n                { action: 'confirm', title: 'Okay', icon: '/android-icon-192x192.95830eb1.png' },\n                { action: 'cancel', title: 'Cancel', icon: '/android-icon-192x192.95830eb1.png' }\n            ]\n        }\n        navigator.serviceWorker.ready\n            .then(swreg => {\n                swreg.showNotification('Successfully subscribed!',\n                    options)\n            })\n    }\n}\n\nfunction configurePushSubcription() {\n    if (!('serviceWorker' in navigator)) {\n        console.log('no sw')\n        return\n    }\n\n    let registration\n    navigator.serviceWorker.ready\n        .then(swreg => {\n            registration = swreg\n            return swreg.pushManager.getSubscription()\n        })\n        .then(sub => {\n            // console.log('sub', sub)\n            if (sub === null) {\n                // set new subscription\n                const vapidPublicKey = 'BKQAn_jLHEFQxqLXFttR5diwKyYhZqJ_PjhQhEMlD13jVipfj-pUdnw3rSGioSaDLt4RyP23ShJ6NwoUZy_Ovl0'\n                const convertedVapidPublicKey = urlBase64ToUint8Array(vapidPublicKey)\n\n                // console.log('vapid key')\n                return registration.pushManager.subscribe({\n                    userVisibleOnly: true,\n                    applicationServerKey: convertedVapidPublicKey\n                })\n            } else {\n                // console.log('else')\n                // get subscription\n            }\n        })\n        .then(newSub => {\n            console.log(newSub)\n            return fetch(URL_SUBSCRIPTIONS, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                body: JSON.stringify(newSub),\n            }\n            )\n        })\n        .then(response => {\n            if (response.ok) {\n                displayNotificationEnabled()\n            }\n        })\n}\n\nfunction askNotificationPermission() {\n    console.log('ask notif permission')\n    Notification.requestPermission(response => {\n        if (response === 'granted') {\n            console.log(response)\n            configurePushSubcription()\n        }\n    })\n}\n\nif ('Notification' in window) {\n    console.log('notif')\n    askNotificationBtn.classList.add('show')\n    askNotificationBtn.addEventListener('click', askNotificationPermission)\n}"]}